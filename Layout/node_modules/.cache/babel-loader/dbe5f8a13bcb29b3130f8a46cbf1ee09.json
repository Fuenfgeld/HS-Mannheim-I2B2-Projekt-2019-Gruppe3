{"ast":null,"code":"export function extend(derived, base) {\n  derived.prototype = inherit(base.prototype);\n  derived.prototype.constructor = derived;\n  derived.base = base.prototype;\n}\nexport function inherit(proto) {\n  function F() {}\n\n  F.prototype = proto;\n  return new F();\n}\nexport function addToDateTime(dateTime, num, type) {\n  if (type === \"millisecond\") dateTime.setMilliseconds(dateTime.getMilliseconds() + 1 * num);else if (type === \"second\") dateTime.setSeconds(dateTime.getSeconds() + 1 * num);else if (type === \"minute\") dateTime.setMinutes(dateTime.getMinutes() + 1 * num);else if (type === \"hour\") dateTime.setHours(dateTime.getHours() + 1 * num);else if (type === \"day\") dateTime.setDate(dateTime.getDate() + 1 * num);else if (type === \"week\") dateTime.setDate(dateTime.getDate() + 7 * num);else if (type === \"month\") dateTime.setMonth(dateTime.getMonth() + 1 * num);else if (type === \"year\") dateTime.setFullYear(dateTime.getFullYear() + 1 * num);\n  return dateTime;\n}\nexport function convertToNumber(num, type) {\n  return constants[type + \"Duration\"] * num;\n}\nexport function pad(value, length) {\n  var isNegative = false;\n\n  if (value < 0) {\n    isNegative = true;\n    value *= -1;\n  }\n\n  value = \"\" + value;\n  length = !length ? 1 : length;\n\n  while (value.length < length) value = \"0\" + value;\n\n  return isNegative ? \"-\" + value : value;\n}\nexport function trimString(str) {\n  if (!str) return str;\n  str = str.replace(/^\\s\\s*/, '');\n  var ws = /\\s/;\n  var i = str.length;\n\n  while (ws.test(str.charAt(--i))) {}\n\n  return str.slice(0, i + 1);\n}\nexport function extendCtx(context) {\n  context.roundRect = function (x, y, width, height, radius, borderThickness, backgroundColor, borderColor) {\n    ///<signature>\n    ///<summary>Creates a rounded rectangle with given fill/stroke parameters</summary>\n    ///<param name=\"x\" type=\"number\">x value</param>\n    ///<param name=\"y\" type=\"number\">y value</param>\n    ///<param name=\"width\" type=\"number\">Border Width</param>\n    ///<param name=\"height\" type=\"number\">Border Height</param>\n    ///<param name=\"radius\" type=\"number\">Border CornerRadius</param>\n    ///<param name=\"borderThickness\" type=\"number\">Border Thickess</param>\n    ///<param name=\"backgroundColor\" type=\"number\">Background Color</param>\n    ///<param name=\"borderColor\" type=\"number\">Border Color</param>\n    ///</signature>\n    if (backgroundColor) {\n      this.fillStyle = backgroundColor;\n    }\n\n    if (borderColor) {\n      this.strokeStyle = borderColor;\n    } //if (typeof stroke == \"undefined\") {\n    //\tstroke = true;\n    //}\n\n\n    if (typeof radius === \"undefined\") {\n      radius = 5;\n    }\n\n    this.lineWidth = borderThickness;\n    this.beginPath();\n    this.moveTo(x + radius, y);\n    this.lineTo(x + width - radius, y);\n    this.quadraticCurveTo(x + width, y, x + width, y + radius);\n    this.lineTo(x + width, y + height - radius);\n    this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    this.lineTo(x + radius, y + height);\n    this.quadraticCurveTo(x, y + height, x, y + height - radius);\n    this.lineTo(x, y + radius);\n    this.quadraticCurveTo(x, y, x + radius, y);\n    this.closePath();\n\n    if (backgroundColor) {\n      this.fill();\n    }\n\n    if (borderColor && borderThickness > 0) {\n      this.stroke();\n    }\n  };\n}\nexport function compareNumbers(a, b) {\n  return a - b;\n}\nexport function compareDataPointX(dataPoint1, dataPoint2) {\n  return dataPoint1.x - dataPoint2.x;\n}\nexport function intToHexColorString(num) {\n  var r = ((num & 0xFF0000) >> 16).toString(16);\n  var g = ((num & 0x00FF00) >> 8).toString(16);\n  var b = ((num & 0x0000FF) >> 0).toString(16);\n  r = r.length < 2 ? \"0\" + r : r;\n  g = g.length < 2 ? \"0\" + g : g;\n  b = b.length < 2 ? \"0\" + b : b;\n  return \"#\" + r + g + b;\n}\nexport function RGBToInt(r, g, b) {\n  var num = r << 16 | g << 8 | b;\n  return num;\n}\nexport function intToRGB(num) {\n  var rgb = [];\n  var r = (num & 0xFF0000) >> 16;\n  var g = (num & 0x00FF00) >> 8;\n  var b = (num & 0x0000FF) >> 0; //r = r.length < 2 ? \"0\" + r : r;\n  //g = g.length < 2 ? \"0\" + g : g;\n  //b = b.length < 2 ? \"0\" + b : b;\n\n  rgb[0] = r;\n  rgb[1] = g;\n  rgb[2] = b;\n  return rgb;\n}\nexport function arrayIndexOf(elt\n/*, from*/\n) {\n  var len = this.length >>> 0;\n  var from = Number(arguments[1]) || 0;\n  from = from < 0 ? Math.ceil(from) : Math.floor(from);\n  if (from < 0) from += len;\n\n  for (; from < len; from++) {\n    if (from in this && this[from] === elt) return from;\n  }\n\n  return -1;\n}\n; //IE8- Fix: indexOf is not supported in IE8- for arrays\n\nexport function addArrayIndexOf(obj) {\n  if (!obj.indexOf) {\n    obj.indexOf = arrayIndexOf;\n  }\n\n  return obj;\n}\nvar fontHeightInPixels = {};\nvar textMeasureEl = null;\nexport function getFontHeightInPixels(fontFamily, fontSize, fontWeight) {\n  //return fontSize;\n  fontWeight = fontWeight || \"normal\";\n  var entry = fontFamily + \"_\" + fontSize + \"_\" + fontWeight;\n  var height = fontHeightInPixels[entry];\n\n  if (isNaN(height)) {\n    try {\n      var style = \"position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;\" + \"font-family:\" + fontFamily + \"; \" + \"font-size:\" + fontSize + \"px; font-weight:\" + fontWeight + \";\"; //console.log(style);\n\n      if (!textMeasureEl) {\n        var body = document.body;\n        textMeasureEl = document.createElement(\"span\");\n        textMeasureEl.innerHTML = \"\";\n        var textNode = document.createTextNode(\"Mpgyi\");\n        textMeasureEl.appendChild(textNode);\n        body.appendChild(textMeasureEl);\n      }\n\n      textMeasureEl.style.display = \"\";\n      textMeasureEl.setAttribute(\"style\", style);\n      height = Math.round(textMeasureEl.offsetHeight);\n      textMeasureEl.style.display = \"none\"; //body.removeChild(tempDiv);\n      //if (window.console)\n      //\twindow.console.log(fontSize + \": \" + height);\n    } catch (e) {\n      height = Math.ceil(fontSize * 1.1);\n    }\n\n    height = Math.max(height, fontSize);\n    fontHeightInPixels[entry] = height;\n  }\n\n  return height;\n}\nexport function getLineDashArray(lineDashType, lineThickness) {\n  lineDashType = lineDashType || \"solid\";\n  var lineDashArray = [];\n  var lineDashTypeMap = {\n    \"solid\": [],\n    \"shortDash\": [3, 1],\n    \"shortDot\": [1, 1],\n    \"shortDashDot\": [3, 1, 1, 1],\n    \"shortDashDotDot\": [3, 1, 1, 1, 1, 1],\n    \"dot\": [1, 2],\n    \"dash\": [4, 2],\n    \"dashDot\": [4, 2, 1, 2],\n    \"longDash\": [8, 2],\n    \"longDashDot\": [8, 2, 1, 2],\n    \"longDashDotDot\": [8, 2, 1, 2, 1, 2]\n  };\n  lineDashArray = lineDashTypeMap[lineDashType];\n\n  if (lineDashArray) {\n    for (var i = 0; i < lineDashArray.length; i++) {\n      lineDashArray[i] *= lineThickness;\n    }\n  } else lineDashArray = [];\n\n  return lineDashArray;\n} //userCapture is optional. Defaults to false\n\nexport function addEvent(obj, eventType, fn, useCapture) {\n  if (obj.addEventListener) {\n    obj.addEventListener(eventType, fn, useCapture || false);\n  } else if (obj.attachEvent) {\n    obj.attachEvent(\"on\" + eventType, function (e) {\n      e = e || window.event;\n\n      e.preventDefault = e.preventDefault || function () {\n        e.returnValue = false;\n      };\n\n      e.stopPropagation = e.stopPropagation || function () {\n        e.cancelBubble = true;\n      };\n\n      fn.call(obj, e);\n    });\n  } else return false;\n} //#region formatting functions/methods\n\nexport function dateFormat() {\n  var reg = /D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|\"[^\"]*\"|'[^']*'/g;\n  var defDays = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n  var defShortDays = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n  var defMonths = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  var defShortMonths = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n  var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n  var timezoneClip = /[^-+\\dA-Z]/g;\n  return function (dt, formatString, cultureInfo) {\n    var days = cultureInfo ? cultureInfo.days : defDays;\n    var months = cultureInfo ? cultureInfo.months : defMonths;\n    var shortDays = cultureInfo ? cultureInfo.shortDays : defShortDays;\n    var shortMonths = cultureInfo ? cultureInfo.shortMonths : defShortMonths;\n    var result = \"\";\n    var utc = false;\n    dt = dt && dt.getTime ? dt : dt ? new Date(dt) : new Date();\n    if (isNaN(dt)) throw SyntaxError(\"invalid date\");\n\n    if (formatString.slice(0, 4) === \"UTC:\") {\n      formatString = formatString.slice(4);\n      utc = true;\n    }\n\n    var pre = utc ? \"getUTC\" : \"get\";\n    var date = dt[pre + \"Date\"]();\n    var day = dt[pre + \"Day\"]();\n    var month = dt[pre + \"Month\"]();\n    var year = dt[pre + \"FullYear\"]();\n    var hours = dt[pre + \"Hours\"]();\n    var minutes = dt[pre + \"Minutes\"]();\n    var seconds = dt[pre + \"Seconds\"]();\n    var milliseconds = dt[pre + \"Milliseconds\"]();\n    var offset = utc ? 0 : dt.getTimezoneOffset();\n    result = formatString.replace(reg, function (key) {\n      switch (key) {\n        case \"D\":\n          return date;\n\n        case \"DD\":\n          return pad(date, 2);\n\n        case \"DDD\":\n          return shortDays[day];\n\n        case \"DDDD\":\n          return days[day];\n\n        case \"M\":\n          return month + 1;\n\n        case \"MM\":\n          return pad(month + 1, 2);\n\n        case \"MMM\":\n          return shortMonths[month];\n\n        case \"MMMM\":\n          return months[month];\n\n        case \"Y\":\n          return parseInt(String(year).slice(-2));\n\n        case \"YY\":\n          return pad(String(year).slice(-2), 2);\n\n        case \"YYY\":\n          return pad(String(year).slice(-3), 3);\n\n        case \"YYYY\":\n          return pad(year, 4);\n\n        case \"h\":\n          return hours % 12 || 12;\n\n        case \"hh\":\n          return pad(hours % 12 || 12, 2);\n\n        case \"H\":\n          return hours;\n\n        case \"HH\":\n          return pad(hours, 2);\n\n        case \"m\":\n          return minutes;\n\n        case \"mm\":\n          return pad(minutes, 2);\n\n        case \"s\":\n          return seconds;\n\n        case \"ss\":\n          return pad(seconds, 2);\n\n        case \"f\":\n          return String(milliseconds).slice(0, 1);\n\n        case \"ff\":\n          return pad(String(milliseconds).slice(0, 2), 2);\n\n        case \"fff\":\n          return pad(String(milliseconds).slice(0, 3), 3);\n\n        case \"t\":\n          return hours < 12 ? \"a\" : \"p\";\n\n        case \"tt\":\n          return hours < 12 ? \"am\" : \"pm\";\n\n        case \"T\":\n          return hours < 12 ? \"A\" : \"P\";\n\n        case \"TT\":\n          return hours < 12 ? \"AM\" : \"PM\";\n\n        case \"K\":\n          return utc ? \"UTC\" : (String(dt).match(timezone) || [\"\"]).pop().replace(timezoneClip, \"\");\n        // Time Zone;\n\n        case \"z\":\n          return (offset > 0 ? \"-\" : \"+\") + Math.floor(Math.abs(offset) / 60);\n        // Hour Offset from UTC without padding\n\n        case \"zz\":\n          return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60), 2);\n        // Hour Offset from UTC with padding\n\n        case \"zzz\":\n          return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60), 2) + pad(Math.abs(offset) % 60, 2);\n        // Hour and Minute Offset from UTC with padding\n\n        default:\n          return key.slice(1, key.length - 1);\n      }\n    });\n    return result;\n  };\n}\n;\nexport function numberFormat(v, fs, cultureInfo) {\n  if (v === null) return \"\";\n  v = Number(v);\n  var isNegative = v < 0 ? true : false;\n  if (isNegative) v *= -1;\n  var decimalSeparator = cultureInfo ? cultureInfo.decimalSeparator : \".\";\n  var digitGroupSeparator = cultureInfo ? cultureInfo.digitGroupSeparator : \",\";\n  var vString = \"\";\n  fs = String(fs);\n  var multiplier = 1;\n  var temp;\n  var result = \"\";\n  var matches = \"\";\n  var decimalPosition = -1;\n  var fsBeforeDecimal = [];\n  var fsAfterDecimal = [];\n  var noPhBeforeDecimal = 0; // Number of Placeholders before Decimal\n\n  var noPhAfterDecimal = 0; // Number of Placeholders after Decimal\n\n  var noComma = 0;\n  var isScientificNotation = false;\n  var exponent = 0;\n  matches = fs.match(/\"[^\"]*\"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|‰|./g); //window.console.log(matches + \" = \" + matches.length);\n\n  var match = null;\n\n  for (var i = 0; matches && i < matches.length; i++) {\n    match = matches[i];\n\n    if (match === \".\" && decimalPosition < 0) {\n      decimalPosition = i;\n      continue;\n    } else if (match === \"%\") {\n      multiplier *= 100;\n    } else if (match === \"‰\") {\n      multiplier *= 1000;\n      continue;\n    } else if (match[0] === \",\" && match[match.length - 1] === \".\") {\n      multiplier /= Math.pow(1000, match.length - 1);\n      decimalPosition = i + match.length - 1;\n      continue;\n    } else if ((match[0] === \"E\" || match[0] === \"e\") && match[match.length - 1] === \"0\") {\n      isScientificNotation = true;\n    }\n\n    if (decimalPosition < 0) {\n      fsBeforeDecimal.push(match);\n      if (match === \"#\" || match === \"0\") noPhBeforeDecimal++;else if (match === \",\") noComma++;\n    } else {\n      fsAfterDecimal.push(match);\n      if (match === \"#\" || match === \"0\") noPhAfterDecimal++;\n    }\n  }\n\n  if (isScientificNotation) {\n    var integer = Math.floor(v);\n    exponent = (integer === 0 ? \"\" : String(integer)).length - noPhBeforeDecimal;\n    multiplier /= Math.pow(10, exponent);\n  }\n\n  v *= multiplier;\n  if (decimalPosition < 0) decimalPosition = i;\n  vString = v.toFixed(noPhAfterDecimal);\n  var split = vString.split(\".\"); //window.console.log(split);\n\n  var vStringBeforeDecimal = (split[0] + \"\").split(\"\");\n  var vStringAfterDecimal = (split[1] + \"\").split(\"\");\n  if (vStringBeforeDecimal && vStringBeforeDecimal[0] === \"0\") vStringBeforeDecimal.shift(); //window.console.log(fsBeforeDecimal + \"<---------->\" + fsAfterDecimal + \" &        \" + vStringBeforeDecimal + \"<---------->\" + vStringAfterDecimal);\n\n  var noPhProcessed = 0;\n  var noDigitsAdded = 0;\n  var noCommaAdded = 0;\n  var commaDistance = 0;\n  var distanceFromLastComma = 0;\n\n  while (fsBeforeDecimal.length > 0) {\n    match = fsBeforeDecimal.pop();\n\n    if (match === \"#\" || match === \"0\") {\n      noPhProcessed++;\n\n      if (noPhProcessed === noPhBeforeDecimal) {\n        var digits = vStringBeforeDecimal;\n        vStringBeforeDecimal = [];\n\n        if (match === \"0\") {\n          //var totalDigits = result.match(/[0-9]/g).length;\n          var toPad = noPhBeforeDecimal - noDigitsAdded - (digits ? digits.length : 0);\n\n          while (toPad > 0) {\n            digits.unshift(\"0\");\n            toPad--;\n          }\n        }\n\n        while (digits.length > 0) {\n          result = digits.pop() + result;\n          distanceFromLastComma++;\n          if (distanceFromLastComma % commaDistance === 0 && noCommaAdded === noComma && digits.length > 0) result = digitGroupSeparator + result;\n        }\n\n        if (isNegative) result = \"-\" + result;\n      } else {\n        if (vStringBeforeDecimal.length > 0) {\n          result = vStringBeforeDecimal.pop() + result;\n          noDigitsAdded++;\n          distanceFromLastComma++;\n        } else if (match === \"0\") {\n          result = \"0\" + result;\n          noDigitsAdded++;\n          distanceFromLastComma++;\n        }\n\n        if (distanceFromLastComma % commaDistance === 0 && noCommaAdded === noComma && vStringBeforeDecimal.length > 0) result = digitGroupSeparator + result;\n      }\n    } else if ((match[0] === \"E\" || match[0] === \"e\") && match[match.length - 1] === \"0\" && /[eE][+-]*[0]+/.test(match)) {\n      if (exponent < 0) match = match.replace(\"+\", \"\").replace(\"-\", \"\");else match = match.replace(\"-\", \"\");\n      result += match.replace(/[0]+/, function ($0) {\n        return pad(exponent, $0.length);\n      });\n    } else {\n      if (match === \",\") {\n        noCommaAdded++;\n        commaDistance = distanceFromLastComma;\n        distanceFromLastComma = 0;\n        if (vStringBeforeDecimal.length > 0) result = digitGroupSeparator + result;\n      } else if (match.length > 1 && (match[0] === \"\\\"\" && match[match.length - 1] === \"\\\"\" || match[0] === \"'\" && match[match.length - 1] === \"'\")) {\n        result = match.slice(1, match.length - 1) + result;\n      } else result = match + result;\n    }\n  }\n\n  var charCount = 0;\n  var resultAfterDecimal = \"\";\n  var addDecimalSeparator = false;\n\n  while (fsAfterDecimal.length > 0) {\n    match = fsAfterDecimal.shift();\n\n    if (match === \"#\" || match === \"0\") {\n      if (vStringAfterDecimal.length > 0 && Number(vStringAfterDecimal.join(\"\")) !== 0) {\n        resultAfterDecimal += vStringAfterDecimal.shift();\n        addDecimalSeparator = true;\n      } else if (match === \"0\") {\n        resultAfterDecimal += \"0\";\n        addDecimalSeparator = true;\n      }\n    } else if (match.length > 1 && (match[0] === \"\\\"\" && match[match.length - 1] === \"\\\"\" || match[0] === \"'\" && match[match.length - 1] === \"'\")) {\n      resultAfterDecimal += match.slice(1, match.length - 1); //addDecimalSeparator = true;\n    } else if ((match[0] === \"E\" || match[0] === \"e\") && match[match.length - 1] === \"0\" && /[eE][+-]*[0]+/.test(match)) {\n      if (exponent < 0) match = match.replace(\"+\", \"\").replace(\"-\", \"\");else match = match.replace(\"-\", \"\");\n      resultAfterDecimal += match.replace(/[0]+/, function ($0) {\n        return pad(exponent, $0.length);\n      });\n    } else {\n      resultAfterDecimal += match; //addDecimalSeparator = true;\n    }\n  }\n\n  result += (addDecimalSeparator ? decimalSeparator : \"\") + resultAfterDecimal; //window.console.log(result);\n\n  return result;\n}\n; //#endregion formatting functions/methods\n\nexport function getObjectId(x, y, ctx) {\n  x *= devicePixelBackingStoreRatio;\n  y *= devicePixelBackingStoreRatio;\n  var pixels = ctx.getImageData(x, y, 2, 2).data;\n  var isObject = true;\n\n  for (var i = 0; i < 4; i++) {\n    if (pixels[i] !== pixels[i + 4] | pixels[i] !== pixels[i + 8] | pixels[i] !== pixels[i + 12]) {\n      isObject = false;\n      break;\n    }\n  }\n\n  if (isObject) {\n    return RGBToInt(pixels[0], pixels[1], pixels[2]);\n  } else {\n    return 0;\n  } //window.console.log(pixels);\n\n} //extracts mouse coordinates from the event parameters\n\nexport function getMouseCoordinates(ev) {\n  var x = 0;\n  var y = 0;\n  ev = ev || window.event;\n\n  if (ev.offsetX || ev.offsetX === 0) {\n    x = ev.offsetX;\n    y = ev.offsetY;\n  } else if (ev.layerX || ev.layerX == 0) {\n    // Firefox\n    x = ev.layerX;\n    y = ev.layerY;\n  } else {\n    x = ev.pageX - ev.target.offsetLeft;\n    y = ev.pageY - ev.target.offsetTop;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}\n;\nexport function getFontString(prefix, object, fallbackObject) {\n  var fontString = \"\";\n  var fontStyleString = prefix ? prefix + \"FontStyle\" : \"fontStyle\";\n  var fontWeightString = prefix ? prefix + \"FontWeight\" : \"fontWeight\";\n  var fontSizeString = prefix ? prefix + \"FontSize\" : \"fontSize\";\n  var fontFamilyString = prefix ? prefix + \"FontFamily\" : \"fontFamily\";\n  fontString += object[fontStyleString] ? object[fontStyleString] + \" \" : fallbackObject && fallbackObject[fontStyleString] ? fallbackObject[fontStyleString] + \" \" : \"\";\n  fontString += object[fontWeightString] ? object[fontWeightString] + \" \" : fallbackObject && fallbackObject[fontWeightString] ? fallbackObject[fontWeightString] + \" \" : \"\";\n  fontString += object[fontSizeString] ? object[fontSizeString] + \"px \" : fallbackObject && fallbackObject[fontSizeString] ? fallbackObject[fontSizeString] + \"px \" : \"\";\n  var fontFamily = object[fontFamilyString] ? object[fontFamilyString] + \"\" : fallbackObject && fallbackObject[fontFamilyString] ? fallbackObject[fontFamilyString] + \"\" : \"\";\n\n  if (!isCanvasSupported && fontFamily) {\n    var firstFontFamily = fontFamily.split(\",\")[0];\n    if (firstFontFamily[0] !== \"'\" && firstFontFamily[0] !== \"\\\"\") firstFontFamily = \"'\" + firstFontFamily + \"'\";\n    fontString += firstFontFamily;\n  } else fontString += fontFamily;\n\n  return fontString;\n}\nexport function getProperty(propertyName, object, fallbackObject) {\n  var value = propertyName in object ? object[propertyName] : fallbackObject[propertyName];\n  return value;\n}\nvar optimizeForHiDPI = true; //optimizeForHiDPI = false;\n\nvar devicePixelRatio = window.devicePixelRatio || 1;\nvar backingStoreRatio = 1;\nvar devicePixelBackingStoreRatio = optimizeForHiDPI ? devicePixelRatio / backingStoreRatio : 1;\nexport function setCanvasSize(canvas, width, height) {\n  if (isCanvasSupported && !!optimizeForHiDPI) {\n    var ctx = canvas.getContext(\"2d\");\n    backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n    devicePixelBackingStoreRatio = devicePixelRatio / backingStoreRatio;\n    canvas.width = width * devicePixelBackingStoreRatio;\n    canvas.height = height * devicePixelBackingStoreRatio;\n\n    if (devicePixelRatio !== backingStoreRatio) {\n      canvas.style.width = width + 'px';\n      canvas.style.height = height + 'px';\n      ctx.scale(devicePixelBackingStoreRatio, devicePixelBackingStoreRatio);\n    } //window.alert(backingStoreRatio);\n    //window.alert(devicePixelRatio);\n\n  } else {\n    canvas.width = width;\n    canvas.height = height;\n  }\n}\nexport function createCanvas(width, height) {\n  var canvas = document.createElement(\"canvas\");\n  canvas.setAttribute(\"class\", \"canvasjs-chart-canvas\");\n  setCanvasSize(canvas, width, height);\n\n  if (!isCanvasSupported && typeof G_vmlCanvasManager !== \"undefined\") {\n    G_vmlCanvasManager.initElement(canvas);\n  }\n\n  return canvas;\n}\nexport function exportCanvas(canvas, format, fileName) {\n  if (!canvas || !format || !fileName) return;\n  var fullFileName = fileName + \".\" + (format === \"jpeg\" ? \"jpg\" : format);\n  var mimeType = \"image/\" + format;\n  var img = canvas.toDataURL(mimeType);\n  var saved = false;\n  var downloadLink = document.createElement(\"a\");\n  downloadLink.download = fullFileName;\n  downloadLink.href = img;\n  downloadLink.target = \"_blank\";\n  var e;\n\n  if (typeof Blob !== \"undefined\" && !!new Blob()) {\n    //alert(\"blob\");\n    var imgData = img.replace(/^data:[a-z/]*;base64,/, '');\n    var byteString = atob(imgData);\n    var buffer = new ArrayBuffer(byteString.length);\n    var intArray = new Uint8Array(buffer);\n\n    for (var i = 0; i < byteString.length; i++) {\n      intArray[i] = byteString.charCodeAt(i);\n    }\n\n    var blob = new Blob([buffer], {\n      type: \"image/\" + format\n    }); // Save the blob\n\n    try {\n      window.navigator.msSaveBlob(blob, fullFileName);\n      saved = true;\n    } catch (e) {\n      downloadLink.dataset.downloadurl = [mimeType, downloadLink.download, downloadLink.href].join(':');\n      downloadLink.href = window.URL.createObjectURL(blob);\n    }\n  }\n\n  if (!saved) {\n    try {\n      event = document.createEvent(\"MouseEvents\");\n      event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n      if (downloadLink.dispatchEvent) {\n        //alert(\"dispatchEvent\");\n        downloadLink.dispatchEvent(event);\n      } else if (downloadLink.fireEvent) {\n        //alert(\"fireEvent\");\n        downloadLink.fireEvent(\"onclick\");\n      }\n    } catch (e) {\n      var win = window.open(); //alert(\"<IE10\");\n      //window.console.log(\"IE\");\n\n      win.document.write(\"<img src='\" + img + \"'></img><div>Please right click on the image and save it to your device</div>\");\n      win.document.close();\n    }\n  }\n}\nvar base64Images = {\n  reset: {\n    image: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAKRSURBVEiJrdY/iF1FFMfxzwnZrGISUSR/JLGIhoh/QiRNBLWxMLIWEkwbgiAoFgoW2mhlY6dgpY2IlRBRxBSKhSAKIklWJRYuMZKAhiyopAiaTY7FvRtmZ+/ed9/zHRjezLw5v/O9d86cuZGZpmURAfdn5o9DfdZNLXpjz+LziPgyIl6MiG0jPTJzZBuyDrP4BVm0P/AKbljTb4ToY/gGewYA7KyCl+1b3DUYANvwbiHw0gCAGRzBOzjTAXEOu0cC4Ch+r5x/HrpdrcZmvIDFSucMtnYCYC++6HmNDw8FKDT34ETrf639/azOr5vwRk/g5fbeuABtgC04XWk9VQLciMP4EH/3AFzErRNC7MXlQmsesSoHsGPE23hmEoBW+61K66HMXFmIMvN8myilXS36R01ub+KfYvw43ZXwYDX+AHP4BAci4pFJomfmr/ihmNofESsBImJGk7mlncrM45n5JPbhz0kAWpsv+juxaX21YIPmVJS2uNzJMS6ZNexC0d+I7fUWXLFyz2kSZlpWPvASlmqAf/FXNXf3FAF2F/1LuFifAlionB6dRuSI2IwHi6lzmXmp6xR8XY0fiIh7psAwh+3FuDkRHQVjl+a8lkXjo0kLUKH7XaV5oO86PmZ1FTzyP4K/XGl9v/zwfbW7BriiuETGCP5ch9bc9f97HF/vcFzCa5gdEPgWq+t/4v0V63oE1uF4h0DiFJ7HnSWMppDdh1dxtsPvJ2wcBNAKbsJXa0Ck5opdaBPsRNu/usba09i1KsaAVzmLt3sghrRjuK1Tf4xkegInxwy8gKf7dKMVH2QRsV5zXR/Cftyu+aKaKbbkQrsdH+PTzLzcqzkOQAVzM+7FHdiqqe2/YT4zF/t8S/sPmawyvC974vcAAAAASUVORK5CYII=\"\n  },\n  pan: {\n    image: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAJVSURBVFiFvZe7a1RBGMV/x2hWI4JpfKCIiSBKOoOCkID/wP4BFqIIFkE02ChIiC8QDKlSiI3YqRBsBVGwUNAUdiIEUgjiAzQIIsuKJsfizsXr5t7d+8jmwLDfzHz3nLOzc7+ZxTZlGyDgZiWOCuJ9wH2gCUyuqQFgF/AGcKJNrYkBYBj40CIet+muGQi/96kM4WS7C/Tm5VUg7whJg8BkEGkCR4BDYfodsADUgP6wErO5iCtswsuJb32hdbXy8qzL5TIdmzJinHdZoZIBZcSFkGlAKs1Z3YCketZcBtouuaQNkrblMiBpBrhme7mAgU4wMCvpcFsDkq4C54DFVRTH9h+i6vlE0r5UA5ImgCuh28jB28iIs7BIVCOeStoZD64P4uPAjUTygKSx2FsK2TIwkugfk9Qkfd/E+yMWHQCeSRqx/R3gOp3LazfaS2C4B5gHDgD7U9x3E3uAH7KNpC3AHHAwTL4FHgM9GQ8vAaPA0dB/Abxqk2/gBLA9MXba9r1k/d4LfA3JtwueBeM58ucS+edXnAW23wP10N3advEi9CXizTnyN4bPS7Zn4sH/dq3t18AY4e1YLYSy3g/csj2VnFshZPuOpOeSKHCodUINuGj7YetE6je1PV9QoNPJ9StNHKodx7nRbiWrGHBGXAi5DUiqtQwtpcWK0Jubt8CltA5MEV1IfwO7+VffPwGfia5m34CT4bXujIIX0Qna1/cGMNqV/wUJE2czxD8CQ4X5Sl7Jz7SILwCDpbjKPBRMHAd+EtX4HWV5Spdc2w8kDQGPbH8py/MXMygM69/FKz4AAAAASUVORK5CYII=\"\n  },\n  zoom: {\n    image: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAMqSURBVFiFvdfbj91TFMDxz57U6GUEMS1aYzyMtCSSDhWjCZMInpAI3khE/QHtgzdRkXgSCS8SES9epKLi0oRKNETjRahREq2KS1stdRujtDPtbA97n5zdn9+5zJxTK9k5v3POXmt991p7r71+IcaoGwkhTOIebMRqzOBTvIG3Y4zTXRmqSoyx5cAKbMJOHMFJnMZ8/jyFaXyMR7G6nb1aH22cP4BvcBxziG3GKfyTIR9D6BYg1KUghPBCDveFlb/24Av8iuUYw41YVsz5G7uxKcZ4aMEpwGt5NY3V/YbHsQ6rcAHOw/kYxigewr5CZw4fYGxBKcCLOFEYehXrMdRhr5yLETxVScsOLOkKAPfn1TYMPIvLFrShUlS2FDZm8XRHACzFAWl3R2xbqPMCYhmeLCAOYEMngAczbcTvuHYxzguIy/FesR9e6gSwU/OoPYHBHgHgviIKX2Flq7k34KhmcVnbi/PC8JX4MgMcxb118wZwdz5aISscqx7VRcox7MrPQ7i+btIAJrAkf9+bI9EPmZY2IAxiTSuAldLq4Y9+AcSUh78KP0tbAcwU35cXMD1JCIFUoGiehlqAz6TNB1f1C0DK+0h+nsNPrQC2a4bqGmlD9kOGcWt+Po6pVgDvSxfJaSkFd4UQBvoAsBYbCoB3a2flM7slA0R8iyt6rAFDeDPbm8eOTpVwGD9qVq7nLbIaZnmksPU1JtsCZMXNmpdRxFasWITzh6Xj3LCzra1OxcD2QjHiGVzdpfORnMqZio2PcF23ABdJF1Np4BPptlyPi6WzPYBzpJZtHe7A6xW9cnyP8TqA//SEIYRL8Bxul7rihvwgtVn78WcGGZXa9HGd5TDujDHuOePXNiHdKjWgZX/YbsxLx/ktqbjVzTlcjUSnvI5JrdlUVp6WesZZ6R1hRrpq9+EVTGS9jTjYAuKIouGpbcurEkIYxC051KNSamazsc+xK8b4S0VnEi/j0hqTP+M27O258egQwZuzs7pI7Mf4WQXIEDc5s9sux+5+1Py2EmP8UOq6GvWhIScxfdYjUERiAt9Jd84J6a16zf8JEKT3yCm8g1UxRv8CC4pyRhzR1uUAAAAASUVORK5CYII=\"\n  },\n  menu: {\n    image: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDcvMTUvMTTPsvU0AAAAP0lEQVRIie2SMQoAIBDDUvH/X667g8sJJ9KOhYYOkW0qGaU1MPdC0vGSbV19EACo3YMPAFH5BUBUjsqfAPpVXtNgGDfxEDCtAAAAAElFTkSuQmCC\"\n  }\n};\nexport function setButtonState(chart, button, state) {\n  if (button.getAttribute(\"state\") !== state) {\n    button.setAttribute(\"state\", state);\n    button.setAttribute(\"type\", 'button');\n    button.style.position = \"relative\";\n    button.style.margin = \"0px 0px 0px 0px\";\n    button.style.padding = \"3px 4px 0px 4px\";\n    button.style.cssFloat = \"left\";\n    button.setAttribute(\"title\", chart._cultureInfo[state + \"Text\"]);\n    button.innerHTML = \"<img style='height:16px;' src='\" + base64Images[state].image + \"' alt='\" + chart._cultureInfo[state + \"Text\"] + \"' />\";\n  }\n}\nexport function show() {\n  var element = null;\n\n  for (var i = 0; i < arguments.length; i++) {\n    element = arguments[i];\n    if (element.style) element.style.display = \"inline\";\n  }\n}\nexport function hide() {\n  var element = null;\n\n  for (var i = 0; i < arguments.length; i++) {\n    element = arguments[i];\n    if (element && element.style) element.style.display = \"none\";\n  }\n}\nexport const isCanvasSupported = !!document.createElement(\"canvas\").getContext;\nexport function getBezierPoints(points, tension) {\n  var bezierPoints = [];\n\n  for (var i = 0; i < points.length; i++) {\n    if (i == 0) {\n      bezierPoints.push(points[0]);\n      continue;\n    }\n\n    var i1, i2, pointIndex;\n    pointIndex = i - 1;\n    i1 = pointIndex === 0 ? 0 : pointIndex - 1;\n    i2 = pointIndex === points.length - 1 ? pointIndex : pointIndex + 1;\n    var drv1 = {\n      x: (points[i2].x - points[i1].x) / tension,\n      y: (points[i2].y - points[i1].y) / tension\n    };\n    var cp1 = {\n      x: points[pointIndex].x + drv1.x / 3,\n      y: points[pointIndex].y + drv1.y / 3\n    };\n    bezierPoints[bezierPoints.length] = cp1;\n    pointIndex = i;\n    i1 = pointIndex === 0 ? 0 : pointIndex - 1;\n    i2 = pointIndex === points.length - 1 ? pointIndex : pointIndex + 1;\n    var drv2 = {\n      x: (points[i2].x - points[i1].x) / tension,\n      y: (points[i2].y - points[i1].y) / tension\n    };\n    var cp2 = {\n      x: points[pointIndex].x - drv2.x / 3,\n      y: points[pointIndex].y - drv2.y / 3\n    };\n    bezierPoints[bezierPoints.length] = cp2;\n    bezierPoints[bezierPoints.length] = points[i];\n  }\n\n  return bezierPoints;\n}\nexport function convertPercentToValue(input, referenceValue) {\n  //input can be a number or string\n  if (input === null || typeof input === \"undefined\") return referenceValue;\n  var result = parseFloat(input.toString()) * (input.toString().indexOf(\"%\") >= 0 ? referenceValue / 100 : 1); // limit to plot area\n\n  if (!isNaN(result) && result <= referenceValue && result >= 0) return result;\n  return referenceValue;\n}\nexport function drawRect(ctx, x1, y1, x2, y2, color, borderThickness, borderColor, top, bottom, left, right, fillOpacity) {\n  if (typeof fillOpacity === \"undefined\") fillOpacity = 1;\n  borderThickness = borderThickness || 0;\n  borderColor = borderColor || \"black\"; //alert(\"top\"+ top + \"bottom\" + bottom + \" lt\" + left+ \"rt\" + right )\n\n  var a1 = x1,\n      a2 = x2,\n      b1 = y1,\n      b2 = y2,\n      edgeY,\n      edgeX;\n  if (x2 - x1 > 15 && y2 - y1 > 15) var bevelDepth = 8;else var bevelDepth = 0.35 * Math.min(x2 - x1, y2 - y1); //alert(a1 + \"\" + a2);\n\n  var color2 = \"rgba(255, 255, 255, .4)\";\n  var color3 = \"rgba(255, 255, 255, 0.1)\"; //color1 = \"rgba(\" + r + \",\" + g + \", \" + b + \",1)\";\n\n  var color1 = color;\n  ctx.beginPath();\n  ctx.moveTo(x1, y1);\n  ctx.save();\n  ctx.fillStyle = color1;\n  ctx.globalAlpha = fillOpacity;\n  ctx.fillRect(x1, y1, x2 - x1, y2 - y1);\n  ctx.globalAlpha = 1;\n\n  if (borderThickness > 0) {\n    var offset = borderThickness % 2 === 0 ? 0 : .5;\n    ctx.beginPath();\n    ctx.lineWidth = borderThickness;\n    ctx.strokeStyle = borderColor;\n    ctx.moveTo(x1, y1);\n    ctx.rect(x1 - offset, y1 - offset, x2 - x1 + 2 * offset, y2 - y1 + 2 * offset);\n    ctx.stroke();\n  }\n\n  ctx.restore(); //   ctx.beginPath();\n\n  if (top === true) {\n    // alert(x1 + \"\" + x2 + \" \" + bevelDepth);\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x1 + bevelDepth, y1 + bevelDepth);\n    ctx.lineTo(x2 - bevelDepth, y1 + bevelDepth);\n    ctx.lineTo(x2, y1);\n    ctx.closePath();\n    var grd = ctx.createLinearGradient((x2 + x1) / 2, b1 + bevelDepth, (x2 + x1) / 2, b1);\n    grd.addColorStop(0, color1);\n    grd.addColorStop(1, color2);\n    ctx.fillStyle = grd;\n    ctx.fill(); //              ctx.stroke();\n\n    ctx.restore();\n  }\n\n  if (bottom === true) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(x1, y2);\n    ctx.lineTo(x1 + bevelDepth, y2 - bevelDepth);\n    ctx.lineTo(x2 - bevelDepth, y2 - bevelDepth);\n    ctx.lineTo(x2, y2);\n    ctx.closePath();\n    var grd = ctx.createLinearGradient((x2 + x1) / 2, b2 - bevelDepth, (x2 + x1) / 2, b2);\n    grd.addColorStop(0, color1);\n    grd.addColorStop(1, color2);\n    ctx.fillStyle = grd; //       ctx.stroke();\n\n    ctx.fill();\n    ctx.restore();\n  }\n\n  if (left === true) {\n    //   alert(x1)\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x1 + bevelDepth, y1 + bevelDepth);\n    ctx.lineTo(x1 + bevelDepth, y2 - bevelDepth);\n    ctx.lineTo(x1, y2);\n    ctx.closePath();\n    var grd = ctx.createLinearGradient(a1 + bevelDepth, (y2 + y1) / 2, a1, (y2 + y1) / 2);\n    grd.addColorStop(0, color1);\n    grd.addColorStop(1, color3);\n    ctx.fillStyle = grd;\n    ctx.fill(); //     ctx.stroke();\n\n    ctx.restore();\n  }\n\n  if (right === true) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(x2, y1);\n    ctx.lineTo(x2 - bevelDepth, y1 + bevelDepth);\n    ctx.lineTo(x2 - bevelDepth, y2 - bevelDepth);\n    ctx.lineTo(x2, y2);\n    var grd = ctx.createLinearGradient(a2 - bevelDepth, (y2 + y1) / 2, a2, (y2 + y1) / 2);\n    grd.addColorStop(0, color1);\n    grd.addColorStop(1, color3);\n    ctx.fillStyle = grd;\n    grd.addColorStop(0, color1);\n    grd.addColorStop(1, color3);\n    ctx.fillStyle = grd;\n    ctx.fill();\n    ctx.closePath(); //          ctx.stroke();\n\n    ctx.restore();\n  } //\n\n}\nexport function drawSegment(ctx, center, radius, color, type, theta1, theta2, fillOpacity, percentInnerRadius) {\n  if (typeof fillOpacity === \"undefined\") fillOpacity = 1; //IE8- FIX: In IE8- segment doesn't get draw if theta2 is equal to theta1 + 2*PI.\n\n  if (!isCanvasSupported) {\n    var theta2Mod = Number((theta2 % (2 * Math.PI)).toFixed(8));\n    var theta1Mod = Number((theta1 % (2 * Math.PI)).toFixed(8));\n    if (theta1Mod === theta2Mod) theta2 -= .0001;\n  }\n\n  ctx.save();\n  ctx.globalAlpha = fillOpacity;\n\n  if (type === \"pie\") {\n    ctx.beginPath();\n    ctx.moveTo(center.x, center.y);\n    ctx.arc(center.x, center.y, radius, theta1, theta2, false);\n    ctx.fillStyle = color;\n    ctx.strokeStyle = \"white\";\n    ctx.lineWidth = 2; //    ctx.shadowOffsetX = 2;\n    //    ctx.shadowOffsetY = 1;\n    //     ctx.shadowBlur = 2;\n    //    ctx.shadowColor = '#BFBFBF';\n\n    ctx.closePath(); //ctx.stroke();\n\n    ctx.fill();\n  } else if (type === \"doughnut\") {\n    ctx.beginPath();\n    ctx.arc(center.x, center.y, radius, theta1, theta2, false);\n    ctx.arc(center.x, center.y, percentInnerRadius * radius, theta2, theta1, true);\n    ctx.closePath();\n    ctx.fillStyle = color;\n    ctx.strokeStyle = \"white\";\n    ctx.lineWidth = 2; // shadow properties\n    //     ctx.shadowOffsetX = 1;\n    //    ctx.shadowOffsetY = 1;\n    //     ctx.shadowBlur = 1;\n    //    ctx.shadowColor = '#BFBFBF';  //grey shadow\n    //ctx.stroke();\n\n    ctx.fill();\n  }\n\n  ctx.globalAlpha = 1;\n  ctx.restore();\n}\n;","map":null,"metadata":{},"sourceType":"module"}