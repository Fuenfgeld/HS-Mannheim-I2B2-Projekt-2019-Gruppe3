{"ast":null,"code":"import React from 'react';\nimport ReactFauxDOM from 'react-faux-dom';\nimport * as d3 from 'd3';\nimport { directive } from '@babel/types';\nimport { partition } from 'd3-hierarchy';\n\nclass SVGIcicle extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: this.props.data,\n      width: 975,\n      height: 2400\n    };\n  }\n\n  render() {\n    let data = this.state.data;\n\n    let root = data => d3.partition().size([this.height, this.width]).padding(1)(d3.hierarchy(data).sum(d => d.value).sort((a, b) => b.this.state.height - a.this.state.height || b.value - a.value));\n\n    let margin = {\n      top: 20,\n      right: 20,\n      bottom: 30,\n      left: 40\n    },\n        width = this.props.width - margin.left - margin.right,\n        height = this.props.height - margin.top - margin.bottom; //create element to mount on\n\n    const div = new ReactFauxDOM.Element('div');\n    let svg = d3.select(div).append(\"svg\").style(\"width\", \"100%\").style(\"height\", \"auto\").style(\"font\", \"10px sans-serif\");\n    let cell = svg.selectAll(\"g\").data(root.descendants()).join(\"g\").attr(\"transform\", d => \"translate(\".concat(d.y0, \",\").concat(d.x0, \")\"));\n    cell.append(\"rect\").attr(\"width\", d => d.y1 - d.y0).attr(\"height\", d => d.x1 - d.x0).attr(\"fill-opacity\", 0.6).attr(\"fill\", d => {\n      if (!d.depth) return \"#ccc\";\n\n      while (d.depth > 1) d = d.parent;\n\n      return color(d.data.name);\n    });\n    return div.toReact();\n  }\n\n}\n\nexport default SVGIcicle;","map":{"version":3,"sources":["C:\\Users\\lele\\VisualCodeWS\\front-alpha-v1.1\\src\\components\\SVGIcicle.js"],"names":["React","ReactFauxDOM","d3","directive","partition","SVGIcicle","Component","state","data","props","width","height","render","root","size","padding","hierarchy","sum","d","value","sort","a","b","this","margin","top","right","bottom","left","div","Element","svg","select","append","style","cell","selectAll","descendants","join","attr","y0","x0","y1","x1","depth","parent","color","name","toReact"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport ReactFauxDOM from 'react-faux-dom'\r\nimport * as d3 from 'd3'\r\nimport { directive } from '@babel/types';\r\nimport { partition } from 'd3-hierarchy';\r\n \r\nclass SVGIcicle extends React.Component {\r\n\r\n    state = {\r\n        data: this.props.data,\r\n        width: 975,\r\n        height: 2400,\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        let data = this.state.data;\r\n        \r\n        let root = data => d3.partition().size([this.height,this.width]).padding(1)\r\n                (d3.hierarchy(data).sum(d=> d.value)\r\n                .sort((a,b) => b.this.state.height - a.this.state.height || b.value -a.value));\r\n\r\n\r\n        let margin = {top: 20, right: 20, bottom: 30, left: 40},\r\n            width = this.props.width - margin.left - margin.right,\r\n            height = this.props.height - margin.top - margin.bottom;\r\n        \r\n        //create element to mount on\r\n        const div = new ReactFauxDOM.Element('div')\r\n\r\n        let svg = d3.select(div).append(\"svg\")\r\n                    .style(\"width\", \"100%\")\r\n                    .style(\"height\",\"auto\")\r\n                    .style(\"font\", \"10px sans-serif\");\r\n\r\n        let cell = svg.selectAll(\"g\").data(root.descendants())\r\n                    .join(\"g\").attr(\"transform\", d => `translate(${d.y0},${d.x0})`);\r\n\r\n        \r\n        cell.append(\"rect\")\r\n                .attr(\"width\", d => d.y1 - d.y0)\r\n                .attr(\"height\", d => d.x1 - d.x0)\r\n                .attr(\"fill-opacity\", 0.6)\r\n                .attr(\"fill\", d => {\r\n                    if (!d.depth) return \"#ccc\";\r\n                    while (d.depth > 1) d = d.parent;\r\n                    return color(d.data.name);\r\n                });\r\n        return div.toReact();\r\n    }\r\n}\r\nexport default SVGIcicle;\r\n"]},"metadata":{},"sourceType":"module"}